<!DOCTYPE html>
<html>
<head>
    <title>ğŸ„ åœ£è¯æ ‘ ğŸ„</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #0a0a2a;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }
        canvas {
            display: block;
        }
        .title {
            position: absolute;
            top: 20px;
            width: 100%;
            text-align: center;
            color: gold;
            font-size: 36px;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="title">ğŸ„ åœ£è¯å¿«ä¹ ğŸ„</div>
    <canvas id="christmasTree"></canvas>

    <script>
        // JavaScriptä»£ç å¼€å§‹
        const canvas = document.getElementById('christmasTree');
        const ctx = canvas.getContext('2d');
        
        // è®¾ç½®ç”»å¸ƒå¤§å°
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // é¢œè‰²å®šä¹‰
        const colors = {
            green: '#1eb856',
            lightGreen: '#64dc78',
            gold: '#ffd700',
            red: '#ff6b6b',
            blue: '#4ecdc4',
            purple: '#9b59b6',
            pink: '#ff9ff3',
            brown: '#8B4513'
        };
        
        // åˆ›å»ºç²’å­ç³»ç»Ÿ
        class Particle {
            constructor(x, y, z, color, isDecor = false) {
                this.originalX = x;
                this.originalY = y;
                this.originalZ = z;
                this.x = x;
                this.y = y;
                this.z = z;
                this.color = color;
                this.isDecor = isDecor;
                this.size = Math.random() * 2 + 1;
                this.speed = Math.random() * 0.5 + 0.1;
                this.angle = Math.random() * Math.PI * 2;
                this.floatSpeed = Math.random() * 0.02 + 0.01;
                this.phase = Math.random() * Math.PI * 2;
            }
            
            update(rotationAngle, time) {
                // æ—‹è½¬
                this.x = this.originalX * Math.cos(rotationAngle) - this.originalZ * Math.sin(rotationAngle);
                this.z = this.originalX * Math.sin(rotationAngle) + this.originalZ * Math.cos(rotationAngle);
                
                // æµ®åŠ¨
                const floatAmount = this.isDecor ? 4 : 1.5;
                this.y = this.originalY + Math.sin(time * this.floatSpeed + this.phase) * floatAmount;
            }
            
            project(cameraZ) {
                const factor = 600 / (this.z + cameraZ + 400);
                const screenX = this.x * factor + canvas.width / 2;
                const screenY = -this.y * factor + canvas.height / 2;
                const size = Math.max(0.8, this.size * factor * 1.5);
                return { x: screenX, y: screenY, size: size };
            }
        }
        
        // åˆ›å»ºæ˜Ÿæ˜Ÿ
        class Star {
            constructor() {
                this.reset();
                this.speed = Math.random() * 0.3 + 0.1;
                this.twinkleSpeed = Math.random() * 0.05 + 0.02;
                this.twinklePhase = Math.random() * Math.PI * 2;
            }
            
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 1.5 + 0.5;
                this.brightness = Math.random() * 0.7 + 0.3;
            }
            
            update(time) {
                this.brightness = 0.5 + 0.5 * Math.sin(time * this.twinkleSpeed + this.twinklePhase);
            }
            
            draw() {
                const alpha = this.brightness;
                const radius = this.size * this.brightness;
                
                // æ˜Ÿæ˜Ÿå…‰æ™•
                ctx.beginPath();
                ctx.arc(this.x, this.y, radius * 2, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${alpha * 0.3})`;
                ctx.fill();
                
                // æ˜Ÿæ˜Ÿæ ¸å¿ƒ
                ctx.beginPath();
                ctx.arc(this.x, this.y, radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
                ctx.fill();
            }
        }
        
        // åˆ›å»ºåœ£è¯æ ‘ç²’å­
        function createTreeParticles() {
            const particles = [];
            const decorColors = [colors.red, colors.gold, colors.blue, colors.purple, colors.pink];
            
            // æ ‘å¹²
            const trunkHeight = 60;
            const trunkRadius = 10;
            for (let y = -trunkHeight; y < 0; y += 4) {
                for (let angle = 0; angle < 360; angle += 25) {
                    const x = trunkRadius * Math.cos(angle * Math.PI / 180);
                    const z = trunkRadius * Math.sin(angle * Math.PI / 180);
                    particles.push(new Particle(x, y, z, colors.brown));
                }
            }
            
            // æ ‘å† 
            const treeBaseY = 0;
            const treeHeight = 220;
            const layers = 8;
            
            for (let layer = 0; layer < layers; layer++) {
                const layerY = treeBaseY + (layer * treeHeight / layers);
                const layerRadius = 70 - layer * 7;
                
                for (let i = 0; i < 60; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * layerRadius;
                    const heightVar = (Math.random() - 0.5) * 16;
                    
                    const x = distance * Math.cos(angle);
                    const z = distance * Math.sin(angle);
                    const y = layerY + heightVar;
                    
                    const colorChoice = Math.random();
                    const color = colorChoice < 0.6 ? colors.green : 
                                 colorChoice < 0.8 ? colors.lightGreen : 
                                 Math.random() > 0.5 ? colors.gold : colors.blue;
                    
                    particles.push(new Particle(x, y, z, color));
                }
            }
            
            // è£…é¥°çƒ
            for (let i = 0; i < 100; i++) {
                const layer = Math.floor(Math.random() * 7);
                const layerY = treeBaseY + (layer * treeHeight / 7);
                const layerRadius = 60 - layer * 7;
                
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * layerRadius * 0.8 + 8;
                
                const x = distance * Math.cos(angle);
                const z = distance * Math.sin(angle);
                const y = layerY + (Math.random() - 0.5) * 12;
                
                const color = decorColors[Math.floor(Math.random() * decorColors.length)];
                particles.push(new Particle(x, y, z, color, true));
            }
            
            // æ ‘é¡¶æ˜Ÿæ˜Ÿ
            particles.push(new Particle(0, treeBaseY + treeHeight, 0, colors.gold, true));
            
            return particles;
        }
        
        // åˆå§‹åŒ–
        const treeParticles = createTreeParticles();
        const stars = Array.from({ length: 400 }, () => new Star());
        
        let rotationAngle = 0;
        let cameraZ = 0;
        let time = 0;
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            // æ¸…å±
            ctx.fillStyle = 'rgba(8, 10, 30, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // æ›´æ–°æ˜Ÿæ˜Ÿ
            stars.forEach(star => {
                star.update(time);
                star.draw();
            });
            
            // æ›´æ–°ç²’å­
            rotationAngle += 0.01;
            time += 0.05;
            
            treeParticles.forEach(particle => {
                particle.update(rotationAngle, time);
                const projected = particle.project(cameraZ);
                
                if (projected.x >= -100 && projected.x <= canvas.width + 100 && 
                    projected.y >= -100 && projected.y <= canvas.height + 100) {
                    
                    // å‘å…‰æ•ˆæœ
                    const glowSize = projected.size * 2;
                    ctx.beginPath();
                    ctx.arc(projected.x, projected.y, glowSize, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color + '40';
                    ctx.fill();
                    
                    // ç²’å­æ ¸å¿ƒ
                    ctx.beginPath();
                    ctx.arc(projected.x, projected.y, projected.size, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color;
                    ctx.fill();
                }
            });
            
            requestAnimationFrame(animate);
        }
        
        // çª—å£è°ƒæ•´å¤§å°
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // å¼€å§‹åŠ¨ç”»
        animate();
    </script>
</body>
</html>